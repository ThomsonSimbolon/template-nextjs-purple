@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .gradient-purple {
    background: linear-gradient(135deg, #5b31d6 0%, #8b5cf6 100%);
  }

  .gradient-purple-soft {
    background: radial-gradient(
      circle at top,
      rgba(91, 49, 214, 0.08) 0%,
      transparent 60%
    );
  }

  .text-gradient {
    background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .btn-gradient-primary {
    background: linear-gradient(180deg, #6d3ef0 0%, #5b31d6 100%);
  }
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ===== DARK MODE (Default) ===== */
:root,
:root[data-theme="dark"] {
  --background: #0b0a17;
  --background-secondary: #120f2e;
  --surface: #2d1e5f;
  --primary: #5b31d6;
  --accent: #8b5cf6;
  --text-primary: #ffffff;
  --text-secondary: #d1d5db;
  --text-muted: #6b7280;
}

/* ===== LIGHT MODE ===== */
:root[data-theme="light"] {
  --background: #ffffff;
  --background-secondary: #f9fafb;
  --surface: #f3f4f6;
  --primary: #7c3aed;
  --accent: #a78bfa;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --text-muted: #9ca3af;
}

body {
  background: radial-gradient(
    circle at top center,
    rgba(91, 49, 214, 0.06) 0%,
    rgba(91, 49, 214, 0.02) 40%,
    #0b0a17 70%
  );
  background-color: #0b0a17;
  background-attachment: fixed;
  color: #ffffff;
  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
  min-height: 100vh;
}

html[data-theme="light"] body {
  background-color: #ffffff;
  color: #111827;
}

/* Light Mode - Override all color styles */
:root[data-theme="light"] {
  color-scheme: light;
}

:root[data-theme="light"] body {
  background-color: #ffffff;
  color: #111827;
}

/* Light Mode Overrides */
:root[data-theme="light"] .bg-background {
  background-color: #ffffff;
}

:root[data-theme="light"] .bg-background-secondary {
  background-color: #f9fafb;
}

:root[data-theme="light"] .bg-surface {
  background-color: #f3f4f6;
}

:root[data-theme="light"] .text-white {
  color: #111827;
}

:root[data-theme="light"] .text-text-primary {
  color: #111827;
}

:root[data-theme="light"] .text-text-secondary {
  color: #374151;
}

/* Override text-text-secondary untuk sidebar nav items - harus lebih spesifik */
:root[data-theme="light"] aside nav a.text-text-secondary {
  color: #7c3aed !important; /* Purple untuk sidebar */
}

:root[data-theme="light"] .text-text-muted {
  color: #9ca3af;
}

:root[data-theme="light"] .border-primary {
  border-color: #7c3aed;
}

:root[data-theme="light"] .border-surface {
  border-color: #e5e7eb;
}

/* Light Mode - Backgrounds */
:root[data-theme="light"] h1,
:root[data-theme="light"] h2,
:root[data-theme="light"] h3 {
  color: #111827;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #120f2e;
}

::-webkit-scrollbar-thumb {
  background: #2d1e5f;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #5b31d6;
}

/* Light Mode Scrollbar */
:root[data-theme="light"] ::-webkit-scrollbar-track {
  background: #f9fafb;
}

:root[data-theme="light"] ::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
  transition: background 0.2s ease;
}

:root[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
  background: #a78bfa;
}

/* ===== LIGHT MODE COMPONENT STYLING ===== */

/* Table Styling - Override Tailwind classes */
:root[data-theme="light"] table thead tr {
  background-color: #f5f3ff !important;
  border-bottom: 2px solid #ddd6fe !important;
  box-shadow: 0 1px 3px rgba(124, 58, 237, 0.05) !important;
}

:root[data-theme="light"] table thead th {
  color: #5b21b6 !important;
  background-color: #f5f3ff !important;
  font-weight: 600 !important;
  padding: 14px 18px !important;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
}

:root[data-theme="light"] table tbody tr {
  border-bottom-color: #e5e7eb !important;
  background-color: #ffffff !important;
  transition: background-color 0.15s ease, box-shadow 0.15s ease;
}

:root[data-theme="light"] table tbody tr:hover {
  background-color: #faf5ff !important;
  box-shadow: 0 1px 3px rgba(124, 58, 237, 0.06) !important;
  transition-duration: 150ms;
}

:root[data-theme="light"] table tbody td {
  color: #1f2937 !important;
  padding: 14px 18px !important;
}

/* Card & Surface Styling */
:root[data-theme="light"] .rounded-lg {
  border: 1px solid #e5e7eb !important;
  background-color: #fefefe !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02) !important;
  transition: box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

:root[data-theme="light"] .rounded-lg:hover {
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.1), 0 2px 4px rgba(124, 58, 237, 0.06) !important;
  border-color: rgba(124, 58, 237, 0.2) !important;
  transform: translateY(-1px);
}

:root[data-theme="light"] .card {
  border: 1px solid #e5e7eb !important;
  background-color: #fefefe !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04) !important;
}

:root[data-theme="light"] [class*="bg-surface"] {
  background-color: #fafaf9 !important;
  border-color: #e5e7eb !important;
}

/* Sidebar & Navbar Styling */
:root[data-theme="light"] nav {
  background-color: #ffffff !important;
  border-bottom: 1px solid #e5e7eb !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04) !important;
}

:root[data-theme="light"] aside {
  background: linear-gradient(180deg, #faf8ff 0%, #fdfbff 100%) !important;
  border-right: 1px solid #ede9fe !important;
  box-shadow: 2px 0 12px rgba(124, 58, 237, 0.04) !important;
}

/* Override bg-surface/30 untuk sidebar di light mode */
:root[data-theme="light"] aside.bg-surface\/30 {
  background: linear-gradient(180deg, #faf8ff 0%, #fdfbff 100%) !important;
}

:root[data-theme="light"] nav a,
:root[data-theme="light"] aside a {
  color: #6b7280 !important;
  transition: all 0.15s ease;
  text-decoration: none !important;
}

/* Sidebar Navigation - Default State (Purple Text) */
/* Override semua rule sebelumnya untuk sidebar nav items */
:root[data-theme="light"] aside nav ul li a {
  color: #7c3aed !important; /* Purple text - override rule general */
}

:root[data-theme="light"] aside nav ul li a svg {
  color: #7c3aed !important;
  stroke: #7c3aed !important;
  fill: #7c3aed !important;
}

/* Override text-text-secondary untuk sidebar nav items */
:root[data-theme="light"] aside nav a.text-text-secondary {
  color: #7c3aed !important; /* Purple text */
}

:root[data-theme="light"] aside nav a.text-text-secondary svg {
  color: #7c3aed !important;
  stroke: #7c3aed !important;
  fill: #7c3aed !important;
}

:root[data-theme="light"] nav a:hover,
:root[data-theme="light"] aside a:hover {
  background-color: #f5f3ff !important;
  color: #7c3aed !important;
  text-decoration: none !important;
  transition: all 0.15s ease !important;
}

/* Sidebar Navigation - Hover State (Darker Purple) */
:root[data-theme="light"] aside nav a:hover:not([class*="bg-primary"]) {
  background-color: #f5f3ff !important;
  color: #6d28d9 !important;
  box-shadow: inset 3px 0 0 #7c3aed !important;
  transform: translateX(2px);
  transition: all 0.2s ease !important;
}

:root[data-theme="light"] aside nav a:hover:not([class*="bg-primary"]) svg {
  color: #6d28d9 !important;
  stroke: #6d28d9 !important;
  fill: #6d28d9 !important;
  transition: all 0.2s ease !important;
}

:root[data-theme="light"] nav a.active,
:root[data-theme="light"] aside a.active {
  background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%) !important;
  color: #ffffff !important;
  font-weight: 600 !important;
}

/* Sidebar Navigation - Active State (More Solid Background) */
:root[data-theme="light"] aside nav a[class*="bg-primary/30"],
:root[data-theme="light"] aside nav a[class*="bg-primary/50"],
:root[data-theme="light"] aside nav a[class*="bg-primary/60"] {
  background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%) !important;
  color: #ffffff !important;
  box-shadow: 0 2px 8px rgba(124, 58, 237, 0.25) !important;
  border-left: 3px solid #6d28d9 !important;
  font-weight: 600 !important;
}

:root[data-theme="light"] aside nav a[class*="bg-primary/30"] svg,
:root[data-theme="light"] aside nav a[class*="bg-primary/50"] svg,
:root[data-theme="light"] aside nav a[class*="bg-primary/60"] svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
}

:root[data-theme="light"] nav a.active svg,
:root[data-theme="light"] aside a.active svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
}

/* Button Styling */
:root[data-theme="light"] button {
  transition: all 0.15s ease;
}

:root[data-theme="light"] button:not([class*="bg-"]) {
  color: #111827;
  border: 1px solid #e5e7eb;
  background-color: #ffffff;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
}

:root[data-theme="light"] button:not([class*="bg-"]):hover {
  background-color: #f9fafb;
  border-color: #d1d5db;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
  transform: translateY(-1px);
}

:root[data-theme="light"] button[class*="bg-primary"],
:root[data-theme="light"] button[class*="gradient-purple"] {
  background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
  color: #ffffff;
  border: none;
  box-shadow: 0 2px 8px rgba(124, 58, 237, 0.2);
}

:root[data-theme="light"] button[class*="bg-primary"]:hover,
:root[data-theme="light"] button[class*="gradient-purple"]:hover {
  background: linear-gradient(135deg, #6d28d9 0%, #7c3aed 100%);
  box-shadow: 0 4px 16px rgba(124, 58, 237, 0.35);
  transform: translateY(-2px);
  transition: all 0.2s ease;
}

/* Card Icon Buttons - White text pada purple background */
:root[data-theme="light"] [class*="bg-primary"],
:root[data-theme="light"] [class*="bg-purple"],
:root[data-theme="light"] [class*="gradient-purple"] {
  color: #ffffff !important;
}

:root[data-theme="light"] [class*="bg-primary"] svg,
:root[data-theme="light"] [class*="bg-purple"] svg,
:root[data-theme="light"] [class*="gradient-purple"] svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Input & Form Styling */
:root[data-theme="light"] input,
:root[data-theme="light"] textarea,
:root[data-theme="light"] select {
  background-color: #ffffff;
  color: #111827;
  border: 1px solid #d1d5db;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

:root[data-theme="light"] input:focus,
:root[data-theme="light"] textarea:focus,
:root[data-theme="light"] select:focus {
  border-color: #7c3aed;
  outline: none;
  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.12), 0 1px 3px rgba(124, 58, 237, 0.1);
}

:root[data-theme="light"] input::placeholder {
  color: #9ca3af;
}

/* Badge & Label Styling - Enhanced Colors */
:root[data-theme="light"] [class*="badge"] {
  border: 1px solid transparent !important;
  font-weight: 600 !important;
  padding: 4px 12px !important;
  border-radius: 20px !important;
}

/* Success Badge - Completed */
:root[data-theme="light"] span.bg-green-100,
:root[data-theme="light"] [class*="badge-success"] {
  background-color: #10b981 !important;
  color: #ffffff !important;
  border-color: #059669 !important;
  box-shadow: 0 1px 2px rgba(5, 150, 105, 0.15) !important;
}

/* Warning Badge - Pending */
:root[data-theme="light"] span.bg-yellow-100,
:root[data-theme="light"] [class*="badge-warning"] {
  background-color: #f59e0b !important;
  color: #ffffff !important;
  border-color: #d97706 !important;
  box-shadow: 0 1px 2px rgba(217, 119, 6, 0.15) !important;
}

/* Danger Badge */
:root[data-theme="light"] span.bg-red-100,
:root[data-theme="light"] [class*="badge-danger"] {
  background-color: #ef4444 !important;
  color: #ffffff !important;
  border-color: #dc2626 !important;
  box-shadow: 0 1px 2px rgba(220, 38, 38, 0.15) !important;
}

/* Info Badge */
:root[data-theme="light"] span.bg-blue-100,
:root[data-theme="light"] [class*="badge-info"] {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
  border-color: #2563eb !important;
  box-shadow: 0 1px 2px rgba(37, 99, 235, 0.15) !important;
}

/* Link Styling */
:root[data-theme="light"] a:not([class*="nav"]):not([class*="sidebar"]) {
  color: #7c3aed;
  transition: color 0.15s ease;
}

:root[data-theme="light"] a:not([class*="nav"]):not([class*="sidebar"]):hover {
  color: #6d28d9;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}

/* Modal & Dialog Styling */
:root[data-theme="light"] [role="dialog"],
:root[data-theme="light"] .modal {
  background-color: #ffffff;
  border: 1px solid #e5e7eb;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04),
    0 0 0 1px rgba(124, 58, 237, 0.05);
}

/* Divider Styling */
:root[data-theme="light"] hr,
:root[data-theme="light"] [class*="border"] {
  border-color: #e5e7eb;
}

/* Code Block Styling */
:root[data-theme="light"] code,
:root[data-theme="light"] pre {
  background-color: #f9fafb;
  color: #1f2937;
  border: 1px solid #e5e7eb;
  font-family: "Fira Code", "Consolas", "Monaco", monospace;
}

/* Custom Layout Fix for Sidebar */
@media (min-width: 1024px) {
  .sidebar-offset {
    margin-left: 16rem;
  }

  .sidebar-offset-collapsed {
    margin-left: 5rem;
  }
}
